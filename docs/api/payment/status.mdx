---
title: 'Payment Status'
description: 'GET /payment/payment-status/:id - Check payment order status'
api: 'GET https://api.superbox.com/v1/payment/payment-status/:id'
---

## Endpoint

```
GET /payment/payment-status/:id
```

## Authentication

<ParamField header="Authorization" type="string" required>
  Bearer token
</ParamField>

## Path Parameters

<ParamField path="id" type="string" required>
  Order ID or Payment ID
</ParamField>

## Example Request

<CodeGroup>
```bash cURL
curl https://api.superbox.com/v1/payment/payment-status/order_Kz6Y7qJd9rDEaX \
  -H "Authorization: Bearer YOUR_TOKEN"
```

```javascript JavaScript
const response = await fetch(
  `https://api.superbox.com/v1/payment/payment-status/${orderId}`,
  {
    headers: {
      'Authorization': `Bearer ${token}`,
    },
  }
);

const status = await response.json();
```

```python Python
import requests

response = requests.get(
    f'https://api.superbox.com/v1/payment/payment-status/{order_id}',
    headers={'Authorization': f'Bearer {token}'}
)

status = response.json()
```
</CodeGroup>

## Response

<ResponseField name="order_id" type="string">
  Razorpay order ID
</ResponseField>

<ResponseField name="payment_id" type="string">
  Razorpay payment ID (if paid)
</ResponseField>

<ResponseField name="status" type="string">
  Payment status:
  - `created` - Order created, awaiting payment
  - `authorized` - Payment authorized
  - `captured` - Payment captured
  - `failed` - Payment failed
  - `refunded` - Payment refunded
</ResponseField>

<ResponseField name="amount" type="number">
  Order amount in smallest currency unit
</ResponseField>

<ResponseField name="currency" type="string">
  Currency code
</ResponseField>

<ResponseField name="plan" type="string">
  Subscription plan
</ResponseField>

<ResponseField name="created_at" type="string">
  Order creation timestamp
</ResponseField>

<ResponseField name="completed_at" type="string">
  Payment completion timestamp (if completed)
</ResponseField>

### Success Response (200)

<CodeGroup>
```json Completed Payment
{
  "order_id": "order_Kz6Y7qJd9rDEaX",
  "payment_id": "pay_Kz6ZNcccrEYkO4",
  "status": "captured",
  "amount": 49900,
  "currency": "INR",
  "plan": "pro",
  "billing_cycle": "monthly",
  "created_at": "2024-01-15T10:25:00Z",
  "completed_at": "2024-01-15T10:30:00Z",
  "subscription": {
    "status": "active",
    "expires_at": "2025-01-15T10:30:00Z"
  }
}
```

```json Pending Payment
{
  "order_id": "order_Kz6Y7qJd9rDEaX",
  "payment_id": null,
  "status": "created",
  "amount": 49900,
  "currency": "INR",
  "plan": "pro",
  "billing_cycle": "monthly",
  "created_at": "2024-01-15T10:25:00Z",
  "completed_at": null
}
```

```json Failed Payment
{
  "order_id": "order_Kz6Y7qJd9rDEaX",
  "payment_id": "pay_Kz6ZNcccrEYkO4",
  "status": "failed",
  "amount": 49900,
  "currency": "INR",
  "plan": "pro",
  "error": {
    "code": "BAD_REQUEST_ERROR",
    "description": "Payment failed due to insufficient funds"
  },
  "created_at": "2024-01-15T10:25:00Z"
}
```
</CodeGroup>

## Payment Status Codes

| Status | Description |
|--------|-------------|
| `created` | Order created, payment not initiated |
| `attempted` | Payment attempted but not completed |
| `authorized` | Payment authorized, awaiting capture |
| `captured` | Payment successfully captured |
| `failed` | Payment failed |
| `refunded` | Payment refunded to customer |
| `expired` | Order expired without payment |

## Polling for Status

For pending payments, you can poll this endpoint:

<CodeGroup>
```javascript JavaScript
async function waitForPayment(orderId, token) {
  const maxAttempts = 60; // 5 minutes
  const interval = 5000; // 5 seconds
  
  for (let i = 0; i < maxAttempts; i++) {
    const response = await fetch(
      `https://api.superbox.com/v1/payment/payment-status/${orderId}`,
      {
        headers: { 'Authorization': `Bearer ${token}` },
      }
    );
    
    const status = await response.json();
    
    if (status.status === 'captured') {
      return { success: true, payment: status };
    } else if (status.status === 'failed') {
      return { success: false, error: status.error };
    }
    
    // Wait before next poll
    await new Promise(resolve => setTimeout(resolve, interval));
  }
  
  return { success: false, error: 'Timeout waiting for payment' };
}

// Usage
const result = await waitForPayment('order_Kz6Y7qJd9rDEaX', token);
```

```python Python
import requests
import time

def wait_for_payment(order_id, token):
    max_attempts = 60  # 5 minutes
    interval = 5  # seconds
    
    for _ in range(max_attempts):
        response = requests.get(
            f'https://api.superbox.com/v1/payment/payment-status/{order_id}',
            headers={'Authorization': f'Bearer {token}'}
        )
        
        status = response.json()
        
        if status['status'] == 'captured':
            return {'success': True, 'payment': status}
        elif status['status'] == 'failed':
            return {'success': False, 'error': status.get('error')}
        
        time.sleep(interval)
    
    return {'success': False, 'error': 'Timeout'}

# Usage
result = wait_for_payment('order_Kz6Y7qJd9rDEaX', token)
```
</CodeGroup>

<Warning>
  Use polling sparingly. Prefer webhook notifications for production applications.
</Warning>

## Get All Payments

Retrieve payment history:

```
GET /payment/history?page=1&limit=20
```

### Response

```json
{
  "payments": [
    {
      "order_id": "order_Kz6Y7qJd9rDEaX",
      "payment_id": "pay_Kz6ZNcccrEYkO4",
      "status": "captured",
      "amount": 49900,
      "plan": "pro",
      "created_at": "2024-01-15T10:30:00Z"
    },
    // ... more payments
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 5,
    "has_more": false
  }
}
```

## Error Responses

<CodeGroup>
```json 404 - Order Not Found
{
  "error": "Order not found",
  "message": "No order found with ID: order_invalid"
}
```

```json 401 - Unauthorized
{
  "error": "Unauthorized",
  "message": "Authentication required"
}
```

```json 403 - Access Denied
{
  "error": "Access denied",
  "message": "This order belongs to a different user"
}
```
</CodeGroup>

## Next Steps

<CardGroup cols={2}>
  <Card title="Create Order" icon="plus" href="/api/payment/create-order">
    Create new payment order
  </Card>
  <Card title="Verify Payment" icon="check" href="/api/payment/verify">
    Verify payment signature
  </Card>
  <Card title="Profile Management" icon="user" href="/api/auth/profile">
    Manage user profile
  </Card>
  <Card title="API Introduction" icon="book" href="/api/introduction">
    Explore all API endpoints
  </Card>
</CardGroup>
